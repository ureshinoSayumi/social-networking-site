"use strict";(self["webpackChunksocial_networking_site"]=self["webpackChunksocial_networking_site"]||[]).push([[645],{2645:function(e,s,t){t.r(s),t.d(s,{default:function(){return C}});var i=t(3396),l=t(7139);const a=e=>((0,i.dD)("data-v-fef461a0"),e=e(),(0,i.Cn)(),e),o=a((()=>(0,i._)("div",{class:"likes-title"},[(0,i._)("h2",{class:"mt-3"},"我按讚的貼文")],-1))),c={class:"content"},r={class:"user-block ms-3"},n=["src"],u={key:1,class:"mt-1",src:"https://upload.cc/i1/2022/05/31/dVpHNT.png",alt:""},d={class:"user ms-3"},k={class:"name"},g={class:"date"},_={class:"user-block me-3"},h=["onClick"],m=a((()=>(0,i._)("i",{class:"bi bi-hand-thumbs-up icon ms-1"},null,-1))),p=a((()=>(0,i._)("p",{class:"text"},"取消",-1))),f=[m,p],w={class:"like-block ms-4"},v=a((()=>(0,i._)("i",{class:"bi bi-arrow-right-circle icon ms-1"},null,-1))),b=a((()=>(0,i._)("p",{class:"text"},"查看",-1)));function L(e,s,t,a,m,p){const L=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("div",null,[o,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(m.allLikes,(e=>((0,i.wg)(),(0,i.iD)("div",{class:"likes-block border-radius mt-3",key:e._id},[(0,i._)("div",c,[(0,i._)("div",r,[(0,i.Wm)(L,{to:`/user/${e.user._id}`,href:"#"},{default:(0,i.w5)((()=>[e.user.image?((0,i.wg)(),(0,i.iD)("img",{key:0,class:"mt-1",src:e.user.image,alt:""},null,8,n)):((0,i.wg)(),(0,i.iD)("img",u))])),_:2},1032,["to"]),(0,i._)("div",d,[(0,i.Wm)(L,{to:`/user/${e.user._id}`,href:"#"},{default:(0,i.w5)((()=>[(0,i._)("p",k,(0,l.zw)(e.user.name),1)])),_:2},1032,["to"]),(0,i._)("p",g,"發文時間 "+(0,l.zw)(p.formatDate(e.createdAt)),1)])]),(0,i._)("div",_,[(0,i._)("div",{class:"like-block ms-5",onClick:s=>p.clearLike(e)},f,8,h),(0,i._)("div",w,[(0,i.Wm)(L,{to:`/post/${e._id}`,href:"#"},{default:(0,i.w5)((()=>[v,b])),_:2},1032,["to"])])])])])))),128))])}var D={data(){return{allLikes:[]}},methods:{getUserLike(){this.axios.get("https://ciye-social-site-api.herokuapp.com/users/getLikeList").then((e=>{this.allLikes=e.data.data,console.log(this.allLikes,"this.allLikes")})).catch((e=>{alert("token過期，請先登入"),console.log(e,"error")}))},clearLike(e){console.log(e._id),this.axios.delete(`https://ciye-social-site-api.herokuapp.com/post/${e._id}/unlike`).then((e=>{console.log(e,"post"),this.getUserLike()})).catch((e=>{console.log(e,"post"),alert("收回失敗")}))},formatDate(e){const s=new Date,t=`${s.getFullYear(e)}-${s.getMonth(e)+1}-${s.getDate(e)} ${s.getHours(e)}:${s.getMinutes(e)}:${s.getSeconds(e)}`;return console.log(t,"formattedDate"),t}},mounted(){this.getUserLike()}},$=t(89);const y=(0,$.Z)(D,[["render",L],["__scopeId","data-v-fef461a0"]]);var C=y}}]);
//# sourceMappingURL=645.cac822c9.js.map